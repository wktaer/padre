<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Para Mi Papá ❤️</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Georgia', serif;
            min-height: 100vh;
            background: linear-gradient(45deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .letter-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            width: 100%;
            max-width: 420px;
            min-height: calc(100vh - 20px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .letter-paper {
            padding: 20px;
            min-height: calc(100vh - 20px);
            position: relative;
            background: 
                radial-gradient(circle at 15px 15px, rgba(255,182,193,0.2) 1px, transparent 1px),
                linear-gradient(transparent 29px, rgba(135,206,235,0.1) 30px);
            background-size: 30px 30px, 100% 30px;
        }

        .section {
            display: none;
            animation: slideIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            min-height: calc(100vh - 100px);
        }

        .section.active {
            display: block;
        }

        @keyframes slideIn {
            from { 
                opacity: 0; 
                transform: translateX(50px) scale(0.95);
            }
            to { 
                opacity: 1; 
                transform: translateX(0) scale(1);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }

        .header h1 {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 300% 300%;
            animation: gradientShift 3s ease infinite;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 2.2em;
            margin-bottom: 10px;
            position: relative;
            line-height: 1.2;
        }

        .header h1::before {
            content: '✨';
            position: absolute;
            left: -30px;
            top: 50%;
            transform: translateY(-50%);
            animation: sparkle 2s ease-in-out infinite;
            font-size: 0.7em;
        }

        .header h1::after {
            content: '✨';
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            animation: sparkle 2s ease-in-out infinite reverse;
            font-size: 0.7em;
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; transform: translateY(-50%) scale(1); }
            50% { opacity: 0.5; transform: translateY(-50%) scale(1.3); }
        }

        .date {
            color: #666;
            font-style: italic;
            margin-bottom: 15px;
            font-size: 1em;
            opacity: 0.8;
        }

        .content {
            line-height: 1.8;
            color: #333;
            font-size: 1.1em;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .content p {
            margin-bottom: 20px;
            text-align: justify;
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .content p:nth-child(1) { animation-delay: 0.2s; }
        .content p:nth-child(2) { animation-delay: 0.4s; }
        .content p:nth-child(3) { animation-delay: 0.6s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .signature {
            text-align: right;
            margin-top: 30px;
            font-style: italic;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 1em;
            line-height: 1.4;
        }

        .button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24, #fd79a8);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(238, 90, 36, 0.4);
            font-family: inherit;
            display: block;
            margin: 30px auto;
            position: relative;
            overflow: hidden;
            font-weight: bold;
            letter-spacing: 0.5px;
            width: 100%;
            max-width: 280px;
            touch-action: manipulation;
        }

        .button:active {
            transform: scale(0.98);
            box-shadow: 0 4px 15px rgba(238, 90, 36, 0.6);
        }

        .memory-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 20px 0;
        }

        .memory-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.3);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .memory-card:active {
            transform: scale(0.98);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .memory-photo {
            width: 100%;
            height: 180px;
            border-radius: 10px;
            margin-bottom: 15px;
            object-fit: cover;
            transition: all 0.3s ease;
            filter: brightness(1.1) contrast(1.1);
        }

        .memory-card h3 {
            color: #2d3436;
            margin-bottom: 10px;
            font-size: 1.2em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .memory-card p {
            color: #636e72;
            line-height: 1.5;
            margin: 0;
            font-size: 0.95em;
        }

        /* Carrusel Móvil */
        .carousel-container {
            position: relative;
            width: 100%;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            height: 280px;
        }

        .carousel-wrapper {
            display: flex;
            transition: transform 0.4s ease;
            height: 100%;
            touch-action: pan-x;
        }

        .carousel-slide {
            min-width: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, #667eea, #764ba2);
        }

        .carousel-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 0;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.9);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .carousel-nav:active {
            background: white;
            transform: translateY(-50%) scale(0.95);
        }

        .carousel-nav.prev {
            left: 15px;
        }

        .carousel-nav.next {
            right: 15px;
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 15px;
            background: rgba(255,255,255,0.9);
        }

        .carousel-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(102,126,234,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-indicator.active {
            background: #667eea;
            transform: scale(1.2);
        }

        .carousel-indicator:active {
            background: #ff6b6b;
            transform: scale(1.1);
        }

        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 20px 15px 15px;
            text-align: center;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .carousel-slide:active .photo-overlay {
            transform: translateY(0);
        }

        .quote-box {
            background: linear-gradient(135deg, rgba(168,237,234,0.8), rgba(254,214,227,0.8));
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
            position: relative;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .quote-box::before {
            content: '"';
            font-size: 4em;
            color: rgba(102,126,234,0.2);
            position: absolute;
            top: -10px;
            left: 15px;
            font-family: serif;
        }

        .quote-text {
            font-size: 1.1em;
            color: #2d3436;
            font-style: italic;
            margin-left: 30px;
            position: relative;
            z-index: 1;
        }

        .heart {
            color: #e74c3c;
            font-size: 1.3em;
            animation: heartbeat 1.5s infinite;
            display: inline-block;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 1000;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            padding: 10px 15px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .nav-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            font-weight: bold;
            box-shadow: 0 4px 12px rgba(102,126,234,0.3);
            touch-action: manipulation;
        }

        .nav-btn:active {
            background: linear-gradient(45deg, #5a67d8, #6b46c1);
            transform: scale(0.95);
        }

        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .emotional-section {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            border: 1px solid rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .emotional-section:active {
            transform: scale(0.98);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        .emotion-icon {
            font-size: 2em;
            text-align: center;
            margin-bottom: 10px;
        }

        .emotional-section h3 {
            color: #2d3436;
            text-align: center;
            margin-bottom: 10px;
            font-size: 1.2em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .emotion-content p {
            color: #636e72;
            line-height: 1.5;
            text-align: justify;
            animation: none;
            opacity: 1;
            transform: none;
            font-size: 0.95em;
        }

        .special-emotion {
            background: linear-gradient(135deg, rgba(255,107,107,0.9), rgba(238,90,36,0.9));
            backdrop-filter: blur(15px);
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            color: white;
            text-align: center;
            box-shadow: 0 20px 40px rgba(255,107,107,0.3);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .special-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            animation: heartbeat 2s infinite;
        }

        .special-emotion h3 {
            color: white;
            font-size: 1.4em;
            margin-bottom: 15px;
            background: none;
            -webkit-text-fill-color: white;
        }

        .special-emotion-content p {
            color: rgba(255,255,255,0.95);
            font-size: 1em;
            line-height: 1.6;
        }

        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-heart {
            position: absolute;
            color: rgba(255,107,107,0.6);
            font-size: 16px;
            animation: floatUp 5s linear infinite;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px) rotate(360deg);
                opacity: 0;
            }
        }

        .particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: radial-gradient(circle, #ff6b6b, transparent);
            border-radius: 50%;
            animation: particleFloat 6s linear infinite;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100%) translateX(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px) translateX(50px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Scroll suave */
        .section {
            scroll-behavior: smooth;
        }

        /* Optimizaciones táctiles */
        .carousel-wrapper {
            -webkit-overflow-scrolling: touch;
        }

        /* Mejoras de rendimiento */
        .section,
        .memory-card,
        .carousel-slide,
        .emotional-section {
            will-change: transform;
        }

        /* Indicador de carga */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.5s ease;
        }

        .loading.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255,255,255,0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes heartPop {
            0% {
                transform: scale(0) translateY(0);
                opacity: 1;
            }
            50% {
                transform: scale(1.2) translateY(-20px);
                opacity: 1;
            }
            100% {
                transform: scale(0.8) translateY(-40px);
                opacity: 0;
            }
        }

        /* Animaciones suaves para móvil */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>
    
    <div class="floating-hearts" id="floatingHearts"></div>
    
    <div class="letter-container">
        <div class="particles" id="particles"></div>
        <div class="letter-paper">
            <!-- Sección 1: Inicio -->
            <div class="section active" id="section1">
                <div class="header">
                    <h1>💙 Para Mi Papá 💙</h1>
                    <div class="date">Día del Padre 2025</div>
                </div>
                <div class="content">
                    <p>Querido Papá,</p>
                    <p>Hoy es un día muy especial, un día para celebrarte y decirte todo lo que significas para mí. Esta carta es mi forma de expresar el amor y la gratitud que siento en mi corazón por ti.</p>
                    <p>Eres mucho más que un padre... eres mi héroe, mi ejemplo a seguir, mi refugio seguro y mi mayor inspiración <span class="heart">❤️</span></p>
                </div>
                <button class="button" onclick="nextSection()">✨ Recuerdos ✨</button>
            </div>

            <!-- Sección 2: Recuerdos con Fotos -->
            <div class="section" id="section2">
                <div class="header">
                    <h1>📸 Nuestros Recuerdos</h1>
                </div>
                <div class="content">
                    <p>Cada momento contigo ha sido un tesoro que guardo en mi corazón para siempre...</p>
                    <div class="memory-grid" id="memoryGrid">
                        <!-- Las tarjetas de memoria se cargarán aquí automáticamente -->
                    </div>
                </div>
                <button class="button" onclick="nextSection()">🎠 Ver Galería</button>
            </div>

            <!-- Sección 3: Carrusel de Fotos -->
            <div class="section" id="section3">
                <div class="header">
                    <h1>🎠 Galería de Momentos</h1>
                </div>
                <div class="content">
                    <p>Una colección de momentos que atesoro para siempre...</p>
                    <div class="carousel-container">
                        <div class="carousel-wrapper" id="carouselWrapper">
                            <!-- Las slides del carrusel se cargarán aquí automáticamente -->
                        </div>
                        <button class="carousel-nav prev" onclick="prevSlide()">‹</button>
                        <button class="carousel-nav next" onclick="nextSlide()">›</button>
                        <div class="carousel-indicators" id="carouselIndicators">
                            <!-- Los indicadores se generarán automáticamente -->
                        </div>
                    </div>
                </div>
                <button class="button" onclick="nextSection()">💝 Mis Sentimientos</button>
            </div>

            <!-- Sección 4: Emociones -->
            <div class="section" id="section4">
                <div class="header">
                    <h1>💫 Todo Lo Que Siento</h1>
                </div>
                <div class="content">
                    <div class="emotional-section" onclick="animateEmotion(this)">
                        <div class="emotion-icon">🌟</div>
                        <h3>Admiración Infinita</h3>
                        <div class="emotion-content">
                            <p>Te admiro más de lo que las palabras pueden expresar. Tu sabiduría, tu paciencia y tu capacidad de convertir cualquier problema en una oportunidad de aprendizaje me inspiran cada día.</p>
                        </div>
                    </div>

                    <div class="emotional-section" onclick="animateEmotion(this)">
                        <div class="emotion-icon">🛡️</div>
                        <h3>Protección y Seguridad</h3>
                        <div class="emotion-content">
                            <p>Contigo me siento invencible. Eres mi escudo contra el mundo, mi puerto seguro en las tormentas. Tu presencia me da la confianza para enfrentar cualquier desafío.</p>
                        </div>
                    </div>

                    <div class="emotional-section" onclick="animateEmotion(this)">
                        <div class="emotion-icon">🎓</div>
                        <h3>Gratitud Por Tus Enseñanzas</h3>
                        <div class="emotion-content">
                            <p>Cada lección que me has dado, cada consejo, cada historia compartida ha moldeado quien soy hoy. Eres el mejor maestro que la vida me pudo dar.</p>
                        </div>
                    </div>

                    <div class="emotional-section" onclick="animateEmotion(this)">
                        <div class="emotion-icon">😂</div>
                        <h3>Alegría y Risas</h3>
                        <div class="emotion-content">
                            <p>Nadie me hace reír como tú. Tus chistes, tu humor, tu forma única de ver el lado positivo de las cosas iluminan hasta los días más grises.</p>
                        </div>
                    </div>

                    <div class="special-emotion">
                        <div class="special-icon">❤️</div>
                        <h3>Amor Incondicional</h3>
                        <div class="special-emotion-content">
                            <p>Pero sobre todo, papá, lo que más siento por ti es un amor puro, profundo e incondicional. Un amor que crece cada día, que no conoce límites ni condiciones. Eres y serás siempre mi héroe, mi ejemplo, mi papá querido.</p>
                        </div>
                    </div>
                </div>
                <button class="button" onclick="nextSection()">✉️ Mensaje Final</button>
            </div>

            <!-- Sección 5: Mensaje Final -->
            <div class="section" id="section5">
                <div class="header">
                    <h1>💝 Con Todo Mi Amor</h1>
                </div>
                <div class="content">
                    <div class="quote-box">
                        <div class="quote-text">
                            "Un padre no es solo quien te da la vida, sino quien te enseña a vivirla con amor, valores y propósito."
                        </div>
                    </div>
                    <p>Papá, quiero que sepas que cada día me siento orgulloso de ser tus hijos. Tu amor me ha dado las alas para volar y las raíces para nunca olvidar de dónde vengo.</p>
                    <p>Gracias por ser mi guía, mi refugio, mi compañero de aventuras y mi mayor ejemplo de lo que significa ser una buena persona. Gracias por amarme incondicionalmente y por creer en mí incluso cuando yo no creía en mí mismo/a.</p>
                    <p>En este Día del Padre y todos los días, quiero que sepas que eres amado, valorado y admirado más de lo que imaginas. Eres el mejor papá del mundo, y somos infinitamente afortunados de ser tus hijos .</p>
                    <div class="signature">
                        Con todo mi amor y cariño,<br>
                        Tus Hijos Javier y Daniela<br>
                        que te aman infinitamente <span class="heart">❤️</span>
                    </div>
                </div>
                <button class="button" onclick="restartLetter()">💫 Volver al Inicio</button>
            </div>

            <!-- Navegación Móvil -->
            <div class="navigation">
                <button class="nav-btn" id="prevBtn" onclick="prevSection()" disabled>‹ Anterior</button>
                <button class="nav-btn" id="nextBtn" onclick="nextSection()">Siguiente ›</button>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 1;
        let totalSections = 5;
        let carouselIndex = 0;
        let touchStartX = 0;
        let touchEndX = 0;

        // URLs de imágenes para los recuerdos
        const memoryImages = [
            'https://i.ibb.co/ZRCbfvgL/Imagen-de-Whats-App-2025-06-15-a-las-01-32-31-16cc29ad.jpg',
            'https://i.ibb.co/j9BhL5kb/Imagen-de-Whats-App-2025-06-15-a-las-01-32-31-d09f8efe.jpg',
            'https://i.ibb.co/Kcyccs54/Imagen-de-Whats-App-2025-06-15-a-las-01-32-31-bfb58762.jpg',
            'https://i.ibb.co/hFW0Pg08/Imagen-de-Whats-App-2025-06-15-a-las-01-32-32-077fa52c.jpg',
            'https://i.ibb.co/QjcyrR8f/Imagen-de-Whats-App-2025-06-15-a-las-01-38-39-43f45986.jpg',
            'https://i.ibb.co/s9gFYNxz/Imagen-de-Whats-App-2025-06-15-a-las-01-32-32-2536e89c.jpg'
        ];

        const memoryTitles = [
            'Nuestras Aventuras',
            'Momentos Especiales',
            'Risas y Diversión',
            'Enseñanzas de Vida',
            'Momentos Únicos',
            'Recuerdos del Corazón'
        ];

        const memoryDescriptions = [
            'Cada aventura contigo ha sido un tesoro que guardo en mi corazón.',
            'Los momentos más especiales de mi vida han sido a tu lado.',
            'Tus bromas y tu risa han llenado mi vida de alegría.',
            'Cada consejo tuyo ha sido una lección valiosa para mi vida.',
            'Estos momentos únicos demuestran lo especial que eres.',
            'Recuerdos que vivirán para siempre en mi corazón.'
        ];

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('loading').classList.add('hidden');
                createMemoryCards();
                createCarousel();
                createFloatingHearts();
                createParticles();
                updateNavigation();
            }, 1500);
            
            // Event listeners para gestos táctiles en el carrusel
            const carousel = document.getElementById('carouselWrapper');
            carousel.addEventListener('touchstart', handleTouchStart, false);
            carousel.addEventListener('touchmove', handleTouchMove, false);
            carousel.addEventListener('touchend', handleTouchEnd, false);
        });

        function createMemoryCards() {
            const memoryGrid = document.getElementById('memoryGrid');
            memoryGrid.innerHTML = '';
            
            for (let i = 0; i < memoryImages.length; i++) {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.innerHTML = `
                    <img src="${memoryImages[i]}" alt="${memoryTitles[i]}" class="memory-photo" onerror="this.style.display='none';">
                    <h3>${memoryTitles[i]}</h3>
                    <p>${memoryDescriptions[i]}</p>
                `;
                card.addEventListener('click', () => animateCard(card));
                memoryGrid.appendChild(card);
            }
        }

        function createCarousel() {
            const wrapper = document.getElementById('carouselWrapper');
            const indicators = document.getElementById('carouselIndicators');
            wrapper.innerHTML = '';
            indicators.innerHTML = '';
            
            for (let i = 0; i < memoryImages.length; i++) {
                // Crear slide
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                slide.innerHTML = `
                    <img src="${memoryImages[i]}" alt="Recuerdo ${i + 1}" class="carousel-image" onerror="this.style.display='none';">
                    <div class="photo-overlay">
                        <h4>${memoryTitles[i]}</h4>
                        <p>${memoryDescriptions[i]}</p>
                    </div>
                `;
                wrapper.appendChild(slide);
                
                // Crear indicador
                const indicator = document.createElement('div');
                indicator.className = 'carousel-indicator';
                if (i === 0) indicator.classList.add('active');
                indicator.addEventListener('click', () => goToSlide(i));
                indicators.appendChild(indicator);
            }
        }

        function nextSlide() {
            carouselIndex = (carouselIndex + 1) % memoryImages.length;
            updateCarousel();
        }

        function prevSlide() {
            carouselIndex = (carouselIndex - 1 + memoryImages.length) % memoryImages.length;
            updateCarousel();
        }

        function goToSlide(index) {
            carouselIndex = index;
            updateCarousel();
        }

        function updateCarousel() {
            const wrapper = document.getElementById('carouselWrapper');
            const indicators = document.querySelectorAll('.carousel-indicator');
            
            wrapper.style.transform = `translateX(-${carouselIndex * 100}%)`;
            
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === carouselIndex);
            });
        }

        function nextSection() {
            if (currentSection < totalSections) {
                document.getElementById(`section${currentSection}`).classList.remove('active');
                currentSection++;
                document.getElementById(`section${currentSection}`).classList.add('active');
                updateNavigation();
                createHeartBurst();
            }
        }

        function prevSection() {
            if (currentSection > 1) {
                document.getElementById(`section${currentSection}`).classList.remove('active');
                currentSection--;
                document.getElementById(`section${currentSection}`).classList.add('active');
                updateNavigation();
            }
        }

        function updateNavigation() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentSection === 1;
            nextBtn.disabled = currentSection === totalSections;
            
            if (currentSection === totalSections) {
                nextBtn.textContent = 'Inicio';
                nextBtn.onclick = restartLetter;
            } else {
                nextBtn.textContent = 'Siguiente ›';
                nextBtn.onclick = nextSection;
            }
        }

        function restartLetter() {
            document.getElementById(`section${currentSection}`).classList.remove('active');
            currentSection = 1;
            document.getElementById('section1').classList.add('active');
            updateNavigation();
            createHeartBurst();
        }

        function animateCard(card) {
            card.style.transform = 'scale(0.95)';
            setTimeout(() => {
                card.style.transform = 'scale(1)';
            }, 150);
            createHeartBurst();
        }

        function animateEmotion(element) {
            element.style.transform = 'scale(0.98)';
            setTimeout(() => {
                element.style.transform = 'scale(1)';
            }, 200);
            createHeartBurst();
        }

        function createFloatingHearts() {
            const container = document.getElementById('floatingHearts');
            setInterval(() => {
                if (Math.random() > 0.7) {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.innerHTML = '❤️';
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
                    container.appendChild(heart);
                    
                    setTimeout(() => {
                        container.removeChild(heart);
                    }, 7000);
                }
            }, 2000);
        }

        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 4) + 's';
                container.appendChild(particle);
            }
        }

        function createHeartBurst() {
            const container = document.body;
            for (let i = 0; i < 6; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = '💖';
                    heart.style.position = 'fixed';
                    heart.style.left = (Math.random() * window.innerWidth) + 'px';
                    heart.style.top = (Math.random() * window.innerHeight) + 'px';
                    heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '1000';
                    heart.style.animation = 'heartPop 1.5s ease-out forwards';
                    container.appendChild(heart);
                    
                    setTimeout(() => {
                        container.removeChild(heart);
                    }, 1500);
                }, i * 100);
            }
        }

        // Funciones para gestos táctiles en el carrusel
        function handleTouchStart(e) {
            touchStartX = e.touches[0].clientX;
        }

        function handleTouchMove(e) {
            e.preventDefault();
        }

        function handleTouchEnd(e) {
            touchEndX = e.changedTouches[0].clientX;
            handleSwipe();
        }

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            }
        }

        // Prevenir zoom en iOS
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        document.addEventListener('gesturechange', function(e) {
            e.preventDefault();
        });

        document.addEventListener('gestureend', function(e) {
            e.preventDefault();
        });
    </script>
</body>
</html>